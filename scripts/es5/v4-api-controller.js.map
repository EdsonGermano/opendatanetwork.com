{"version":3,"sources":["../v4-api-controller.js"],"names":[],"mappings":";;;;;;IAAM,aAAa;AAEf,aAFE,aAAa,GAED;8BAFZ,aAAa;;AAIX,YAAI,CAAC,0BAA0B,GAAG,uGAAuG,CAAC;AAC1I,YAAI,CAAC,aAAa,GAAG,kBAAkB,CAAC;AACxC,YAAI,CAAC,eAAe,GAAG,8EAA8E,CAAC;AACtG,YAAI,CAAC,UAAU,GAAG,mDAAmD,CAAC;AACtE,YAAI,CAAC,WAAW,GAAG,kEAAkE,CAAC;AACtF,YAAI,CAAC,YAAY,GAAG,kEAAkE,CAAC;AACvF,YAAI,CAAC,MAAM,GAAG,kEAAkE,CAAC;AACjF,YAAI,CAAC,cAAc,GAAG,oFAAoF,CAAC;AAC3G,YAAI,CAAC,iBAAiB,GAAG,gEAAgE,CAAC;AAC1F,YAAI,CAAC,aAAa,GAAG,mFAAmF,CAAC;AACzG,YAAI,CAAC,iBAAiB,GAAG,2HAA2H,CAAC;KACxJ;;iBAfC,aAAa;;uDAiBgB,UAAU,EAAE,iBAAiB,EAAE;;AAE1D,aAAC,CAAC,OAAO,CAAC,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;SACxG;;;4CAEmB,SAAS,EAAE,iBAAiB,EAAE;;AAE9C,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;SACpE;;;wCAEe,SAAS,EAAE,iBAAiB,EAAE;;AAE1C,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;SAChE;;;yCAEgB,SAAS,EAAE,iBAAiB,EAAE;;AAE3C,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;SACjE;;;mCAEU,SAAS,EAAE,iBAAiB,EAAE;;AAErC,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;SAC3D;;;2CAEkB,SAAS,EAAE,iBAAiB,EAAE;;AAE7C,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;SACnE;;;0CAEiB,SAAS,EAAE,iBAAiB,EAAE;;AAE5C,gBAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;SAClE;;;gCAEO,GAAG,EAAE,SAAS,EAAE,iBAAiB,EAAE;;AAEvC,gBAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAS,QAAQ,EAAE;AAC5C,uBAAO,OAAO,GAAG,QAAQ,GAAG,IAAI,CAAC;aACpC,CAAC,CAAC;;AAEH,aAAC,CAAC,OAAO,CAAC,GAAG,GAAG,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;SACxE;;;mCAEU,iBAAiB,EAAE;;AAE1B,aAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,iBAAiB,CAAC,CAAC;SACjD;;;sCAEa,iBAAiB,EAAE;;AAE7B,aAAC,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;SACpD;;;0CAEiB,QAAQ,EAAE,iBAAiB,EAAE;;AAE3C,aAAC,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,EAAE,iBAAiB,CAAC,CAAC;SACnE;;;0CAEiB,QAAQ,EAAE,iBAAiB,EAAE;;AAE3C,aAAC,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,EAAE,iBAAiB,CAAC,CAAC;SACnE;;;WA/EC,aAAa","file":"v4-api-controller.js","sourcesContent":["class ApiController {\n\n    constructor() {\n\n        this.autoCompleteNameSuggestUrl = 'https://federal.demo.socrata.com/views/7g2b-8brv/columns/autocomplete_name/suggest/{0}?size=10&fuzz=0';\n        this.categoriesUrl = '/categories.json';\n        this.costOfLivingUrl = 'https://federal.demo.socrata.com/resource/hpnf-gnfu.json?$order=name&$where=';\n        this.domainsUrl = 'https://api.us.socrata.com/api/catalog/v1/domains';\n        this.earningsUrl = 'https://federal.demo.socrata.com/resource/wmwh-4vak.json?$where=';\n        this.educationUrl = 'https://federal.demo.socrata.com/resource/uf4m-5u8r.json?$where=';\n        this.gdpUrl = 'https://federal.demo.socrata.com/resource/ks2j-vhr8.json?$where=';\n        this.occupationsUrl = 'https://federal.demo.socrata.com/resource/qfcm-fw3i.json?$order=occupation&$where=';\n        this.placesInRegionUrl = 'https://federal.demo.socrata.com/resource/eyae-8jfy?parent_id=';\n        this.populationUrl = 'https://federal.demo.socrata.com/resource/e3rd-zzmr.json?$order=year,name&$where=';\n        this.similarRegionsUrl = 'https://socrata-peers.herokuapp.com/peers.json?vectors=population_change,earnings,occupation,education,population&n=5&id=';\n    }\n\n    getAutoCompleteNameSuggestions(searchTerm, completionHandler) {\n\n        $.getJSON(this.autoCompleteNameSuggestUrl.format(encodeURIComponent(searchTerm)), completionHandler);\n    }\n\n    getCostOfLivingData(regionIds, completionHandler) {\n\n        this.getData(this.costOfLivingUrl, regionIds, completionHandler);\n    }\n\n    getEarningsData(regionIds, completionHandler) {\n\n        this.getData(this.earningsUrl, regionIds, completionHandler);\n    }\n\n    getEducationData(regionIds, completionHandler) {\n\n        this.getData(this.educationUrl, regionIds, completionHandler);\n    }\n\n    getGdpData(regionIds, completionHandler) {\n\n        this.getData(this.gdpUrl, regionIds, completionHandler);\n    }\n\n    getOccupationsData(regionIds, completionHandler) {\n\n        this.getData(this.occupationsUrl, regionIds, completionHandler);\n    }\n\n    getPopulationData(regionIds, completionHandler) {\n\n        this.getData(this.populationUrl, regionIds, completionHandler);\n    }\n\n    getData(url, regionIds, completionHandler) {\n\n        var segments = regionIds.map(function(regionId) {\n            return 'id=\\'' + regionId + '\\''; \n        });\n\n        $.getJSON(url + encodeURI(segments.join(' OR ')), completionHandler);\n    }\n\n    getDomains(completionHandler) {\n\n        $.getJSON(this.domainsUrl, completionHandler);\n    }\n\n    getCategories(completionHandler) {\n\n        $.getJSON(this.categoriesUrl, completionHandler);\n    }\n\n    getPlacesInRegion(regionId, completionHandler) {\n\n        $.getJSON(this.placesInRegionUrl + regionId, completionHandler);\n    }\n\n    getSimilarRegions(regionId, completionHandler) {\n\n        $.getJSON(this.similarRegionsUrl + regionId, completionHandler);\n    }\n}"]}