{"version":3,"sources":["../v4-search-page-controller.js"],"names":[],"mappings":"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","file":"v4-search-page-controller.js","sourcesContent":["class SearchPageController {\n\n    constructor(params) {\n\n        this.MAP_INITIAL_CENTER = [37.1669, -95.9669];\n        this.MAP_INITIAL_ZOOM = 4.0;\n        \n        this.params = params;\n        this.fetching = false;\n        this.fetchedAll = false;\n        this.mostSimilar = [];\n    \n        var self = this;\n    \n        // Refine menus\n        //\n        $('.refine-link').mouseenter(function() {\n    \n            $(this).addClass('refine-link-selected');\n            $(this).children('span').children('i').removeClass('fa-caret-down').addClass('fa-caret-up');\n            $(this).children('ul').slideDown(100);\n        });\n    \n        $('.refine-link').mouseleave(function() {\n    \n            $(this).removeClass('refine-link-selected');\n            $(this).children('span').children('i').removeClass('fa-caret-up').addClass('fa-caret-down');\n            $(this).children('ul').slideUp(100);\n        });\n    \n        // Categories\n        //\n        this.attachCategoriesClickHandlers();\n    \n        $('#refine-menu-categories-view-more').click(function() {\n    \n            var controller = new ApiController();\n            controller.getCategories(function(data) {\n    \n                var s = data.results.map(function(result) {\n                    return '<li><i class=\"fa ' + result.metadata.icon + '\"></i>' + result.category + '</li>';\n                });\n    \n                $('#refine-menu-categories').html(s);\n                self.attachCategoriesClickHandlers();\n            });\n        });\n    \n        // Domains\n        //\n        this.attachDomainsClickHandlers();\n    \n        $('#refine-menu-domains-view-more').click(function() {\n    \n            var controller = new ApiController();\n            controller.getDomains(function(data) {\n    \n                var s = data.results.map(function(result) {\n                    return '<li>' + result.domain + '</li>';\n                });\n    \n                $('#refine-menu-domains').html(s);\n                self.attachDomainsClickHandlers();\n            });\n        });\n        \n        // Standards\n        //\n        this.attachStandardsClickHandlers();\n    \n        // Tokens\n        //\n        $('.region-token .fa-times-circle').click(function() { \n    \n            self.removeRegion($(this).parent().index());\n            self.navigate();\n        });\n    \n        $('.category-token .fa-times-circle').click(function() { \n    \n            self.toggleCategory($(this).parent().text().toLowerCase().trim());\n            self.navigate();\n        });\n    \n        $('.domain-token .fa-times-circle').click(function() { \n    \n            self.toggleDomain($(this).parent().text().toLowerCase().trim());\n            self.navigate();\n        });\n    \n        $('.standard-token .fa-times-circle').click(function() { \n    \n            self.toggleStandard($(this).parent().text().toLowerCase().trim());\n            self.navigate();\n        });\n    \n        // Infinite scroll search results\n        //\n        $(window).on('scroll', function() {\n    \n            var bottomOffsetToBeginRequest = 1000;\n    \n            if ($(window).scrollTop() >= $(document).height() - $(window).height() - bottomOffsetToBeginRequest) {\n                self.fetchNextPage();\n            }\n    \n        }).scroll();\n    \n        // Add location\n        //\n        new AutoSuggestRegionController('.add-region input[type=\"text\"]', '.add-region ul', function(region) {\n    \n            self.setAutoSuggestedRegion(region, false);\n            self.navigate();\n        });\n    \n        $('.add-region .fa-plus').click(function() {\n    \n            $('.add-region input[type=\"text\"]').focus();\n        });\n    \n        // Similar regions\n        //\n        this.drawSimilarRegions(function(region) {\n    \n            self.setAutoSuggestedRegion(region, false);\n            self.navigate();\n        });\n    \n        // Places in region\n        //\n        this.drawPlacesInRegion(function(region) {\n    \n            self.setAutoSuggestedRegion(region, false);\n            self.navigate();\n        });\n    }\n\n    // Public methods\n    //\n    attachCategoriesClickHandlers() {\n    \n        var self = this;\n    \n        $('#refine-menu-categories li:not(.refine-view-more)').click(function() {\n    \n            self.toggleCategory($(this).text().toLowerCase().trim());\n            self.navigate();\n        });\n    }\n    \n    attachDomainsClickHandlers() {\n    \n        var self = this;\n        \n        $('#refine-menu-domains li:not(.refine-view-more)').click(function() {\n    \n            var domain = $(this).text().toLowerCase().trim();\n    \n            self.toggleDomain(domain);\n            self.navigate();\n        });\n    }\n    \n    attachStandardsClickHandlers() {\n    \n        var self = this;\n        \n        $('#refine-menu-standards li').click(function() {\n    \n            var standard = $(this).text().toLowerCase().trim();\n    \n            self.toggleStandard(standard);\n            self.navigate();\n        });\n    }\n    \n    decrementPage() {\n    \n        this.params.page--;\n    }\n    \n    // Cost of living\n    //\n    drawCostOfLivingData() {\n    \n        var self = this;\n    \n        google.setOnLoadCallback(function() {\n    \n            var regionIds = self.params.regions.map(function(region) { return region.id; });\n            var controller = new ApiController();\n    \n            controller.getCostOfLivingData(regionIds, function(data) { \n    \n                self.drawCostOfLivingChart(regionIds, data);\n                self.drawCostOfLivingTable(regionIds, data);\n            });\n        });\n    }\n    \n    drawCostOfLivingChart(regionIds, data) {\n    \n        this.drawCostOfLivingChartForComponent('cost-of-living-all-chart', 'All', regionIds, data);\n        this.drawCostOfLivingChartForComponent('cost-of-living-goods-chart', 'Goods', regionIds, data);\n        this.drawCostOfLivingChartForComponent('cost-of-living-rents-chart', 'Rents', regionIds, data);\n        this.drawCostOfLivingChartForComponent('cost-of-living-other-chart', 'Other', regionIds, data);\n    }\n    \n    drawCostOfLivingChartForComponent(id, component, regionIds, data) {\n    \n        var chartData = []\n    \n        // Header\n        //\n        var header = ['Year'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            header[i + 1] = this.params.regions[i].name;\n        }\n    \n        chartData.push(header);\n    \n        // Format the data\n        //\n        var o = {};\n    \n        for (var i = 0; i < data.length; i++) {\n    \n            if (data[i].component != component)\n                continue;\n    \n            if (o[data[i].year] == undefined) {\n                o[data[i].year] = [data[i].year];\n            }\n    \n            o[data[i].year].push(parseFloat(data[i].index));\n        }\n    \n        for (var key in o) {\n            chartData.push(o[key]);\n        }\n    \n        this.drawLineChart(id, chartData, {\n    \n            curveType : 'function',\n            legend : { position : 'bottom' },\n            pointShape : 'square',\n            pointSize : 8,\n            title : component,\n        });\n    }\n    \n    drawCostOfLivingTable(regionIds, data) {\n    \n        // Format the data\n        //\n        var components = ['All', 'Goods', 'Other', 'Rents'];\n        var rows = [];\n    \n        for (var i = 0; i < components.length; i++) {\n    \n            var component = components[i];\n            var row = [component];\n    \n            for (var j = 0; j < regionIds.length; j++) {\n    \n                var o = this.getLatestCostOfLiving(data, regionIds[j], component);\n    \n                row.push({\n                    index : (o != null) ? parseFloat(o.index) : 'NA',\n                    percentile : (o != null) ? this.getPercentile(o.rank, o.total_ranks) : 'NA',\n                });\n            }\n    \n            rows.push(row);\n        }\n    \n        // Header\n        //\n        var s = '<tr><th></th>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<th colspan=\\'2\\'>' + this.params.regions[i].name + '</th>';\n        }\n    \n        // Sub header\n        //\n        s += '</tr><tr><td class=\\'column-header\\'></td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<td class=\\'column-header\\'>Value</td><td class=\\'column-header\\'>Percentile</td>';\n        }\n    \n        s += '</tr>';\n        \n        for (var i = 0; i < rows.length; i++) {\n    \n            var row = rows[i];\n    \n            s += '<tr>';\n            s += '<td>' + row[0] + '</td>';\n    \n            for (var j = 1; j < row.length; j++) {\n    \n                s += '<td>' + row[j].index + '</td>';\n                s += '<td>' + row[j].percentile + '</td>';\n            }\n            \n            s += '</tr>';\n        }\n    \n        $('#cost-of-living-table').html(s);\n    }\n    \n    getPercentile(rank, totalRanks) {\n    \n        var totalRanks = parseInt(totalRanks);\n        var rank = parseInt(rank);\n        var percentile = parseInt(((totalRanks - rank) / totalRanks) * 100);\n    \n        return numeral(percentile).format('0o');\n    }\n    \n    getLatestCostOfLiving(data, regionId, component) {\n    \n        var datum = null;\n    \n        for (var i = 0; i < data.length; i++) {\n    \n            if (data[i].id != regionId)\n                continue;\n    \n            if (data[i].component != component)\n                continue;\n    \n            if (datum == null) {\n    \n                datum = data[i];\n                continue;\n            }\n    \n            if (parseInt(data[i].year) <= parseInt(datum.year))\n                continue;\n    \n            datum = data[i];\n        }\n        \n        return datum;\n    }\n    \n    // Earnings\n    //\n    drawEarningsData() {\n    \n        var self = this;\n    \n        google.setOnLoadCallback(function() {\n    \n            var regionIds = self.params.regions.map(function(region) { return region.id; });\n            var controller = new ApiController();\n    \n            controller.getEarningsData(regionIds, function(data) { \n    \n                self.drawEarningsChart(regionIds, data);\n                self.drawEarningsTable(regionIds, data);\n            });\n        });\n    }\n    \n    drawEarningsChart(regionIds, data) {\n    \n        var earnings = [];\n    \n        // Header\n        //\n        var header = ['Education Level'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            header[i + 1] = this.params.regions[i].name;\n        }\n    \n        earnings.push(header);\n    \n        // Less than high school\n        //\n        var someHighSchoolEarnings = ['Some High School'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            someHighSchoolEarnings[i + 1] = parseInt(data[i].median_earnings_less_than_high_school);\n        }\n    \n        earnings.push(someHighSchoolEarnings);\n    \n        // High school\n        //\n        var highSchoolEarnings = ['High School'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            highSchoolEarnings[i + 1] = parseInt(data[i].median_earnings_high_school);\n        }\n    \n        earnings.push(highSchoolEarnings);\n    \n        // Some college\n        //\n        var someCollegeEarnings = ['Some College'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            someCollegeEarnings[i + 1] = parseInt(data[i].median_earnings_some_college_or_associates);\n        }\n    \n        earnings.push(someCollegeEarnings);\n    \n        // Bachelor's\n        //\n        var bachelorsEarnings = ['Bachelor\\'s'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            bachelorsEarnings[i + 1] = parseInt(data[i].median_earnings_bachelor_degree);\n        }\n    \n        earnings.push(bachelorsEarnings);\n    \n        // Graduate degree\n        //\n        var graduateDegreeEarnings = ['Graduate Degree'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            graduateDegreeEarnings[i + 1] = parseInt(data[i].median_earnings_graduate_or_professional_degree);\n        }\n    \n        earnings.push(graduateDegreeEarnings);\n    \n        this.drawSteppedAreaChart('earnings-chart', earnings, {\n    \n            areaOpacity : 0,\n            connectSteps: true,\n            curveType : 'function',\n            focusTarget : 'category',\n            legend : { position : 'bottom' },\n            title : 'Earnings by Education Level',\n            vAxis : { format : 'currency' },\n        });\n    }\n    \n    drawEarningsTable(regionIds, data) {\n    \n        var s = '';\n    \n        s += '<tr><th></th>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<th>' + this.params.regions[i].name + '</th>';\n        }\n    \n        // Median earnings all\n        //\n        s += '</tr><tr><td>Median Earnings (All Workers)</td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<td>' + numeral(data[i].median_earnings).format('$0,0') + '</td>';\n        }\n    \n        // Median earnings female\n        //\n        s += '</tr><tr><td>Median Female Earnings (Full Time)</td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<td>' + numeral(data[i].female_full_time_median_earnings).format('$0,0') + '</td>';\n        }\n    \n        // Median earnings male\n        //\n        s += '</tr><tr><td>Median Male Earnings (Full Time)</td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<td>' + numeral(data[i].male_full_time_median_earnings).format('$0,0') + '</td>';\n        }\n    \n        s += '</tr>';\n    \n        $('#earnings-table').html(s);\n    }\n    \n    // Education\n    //\n    drawEducationData() {\n    \n        var self = this;\n    \n        google.setOnLoadCallback(function() {\n    \n            var regionIds = self.params.regions.map(function(region) { return region.id; });\n            var controller = new ApiController();\n    \n            controller.getEducationData(regionIds, function(data) { \n    \n                self.drawEducationTable(regionIds, data);\n            });\n        });\n    }\n    \n    drawEducationTable(regionIds, data) {\n    \n        var s = '';\n    \n        // Header\n        //\n        s += '<tr><th></th>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<th colspan=\\'2\\'>' + this.params.regions[i].name + '</th>';\n        }\n    \n        // Sub header\n        //\n        s += '</tr><tr><td class=\\'column-header\\'></td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<td class=\\'column-header\\'>Percent</td><td class=\\'column-header\\'>Percentile</td>';\n        }\n    \n        // At least bachelor's\n        //\n        s += '</tr><tr><td>At Least Bachelor\\'s Degree</td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n    \n            var totalRanks = parseInt(data[i].total_ranks);\n            var rank = parseInt(data[i].percent_bachelors_degree_or_higher_rank);\n            var percentile = parseInt(((totalRanks - rank) / totalRanks) * 100);\n            \n            s += '<td>' + data[i].percent_bachelors_degree_or_higher + '%</td>';\n            s += '<td>' + numeral(percentile).format('0o') + '</td>';\n        }\n    \n        // At least high school diploma\n        //\n        s += '</tr><tr><td>At Least High School Diploma</td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n    \n            var totalRanks = parseInt(data[i].total_ranks);\n            var rank = parseInt(data[i].percent_high_school_graduate_or_higher);\n            var percentile = parseInt(((totalRanks - rank) / totalRanks) * 100);\n    \n            s += '<td>' + data[i].percent_high_school_graduate_or_higher + '%</td>';\n            s += '<td>' + numeral(percentile).format('0o') + '</td>';\n        }\n    \n        s += '</tr>';\n    \n        $('#education-table').html(s);\n    }\n    \n    // GDP data\n    //\n    drawGdpData() {\n    \n        var self = this;\n    \n        google.setOnLoadCallback(function() {\n    \n            var regionIds = self.params.regions.map(function(region) { return region.id; });\n            var controller = new ApiController();\n    \n            controller.getGdpData(regionIds, function(data) { \n    \n                self.drawGdpChart(regionIds, data);\n                self.drawGdpChangeChart(regionIds, data);\n            });\n        });\n    }\n    \n    drawGdpChart(regionIds, data) {\n    \n        var chartData = [];\n    \n        // Header\n        //\n        var header = ['Year'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            header[i + 1] = this.params.regions[i].name;\n        }\n    \n        chartData.push(header);\n    \n        // Format the data\n        //\n        var o = {};\n    \n        for (var i = 0; i < data.length; i++) {\n    \n            if (o[data[i].year] == undefined) {\n                o[data[i].year] = [data[i].year];\n            }\n    \n            o[data[i].year].push(parseFloat(data[i].per_capita_gdp));\n        }\n    \n        for (var key in o) {\n            chartData.push(o[key]);\n        }\n    \n        // Draw chart\n        //\n        this.drawLineChart('per-capita-gdp-chart', chartData, {\n    \n            curveType : 'function',\n            legend : { position : 'bottom' },\n            pointShape : 'square',\n            pointSize : 8,\n            title : 'Per Capita Real GDP over Time',\n        });\n    }\n    \n    drawGdpChangeChart(regionIds, data) {\n    \n        var chartData = [];\n    \n        // Header\n        //\n        var header = ['Year'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            header[i + 1] = this.params.regions[i].name;\n        }\n    \n        chartData.push(header);\n    \n        // Format the data\n        //\n        var o = {};\n    \n        for (var i = 0; i < data.length; i++) {\n    \n            if (o[data[i].year] == undefined) {\n                o[data[i].year] = [data[i].year];\n            }\n    \n            o[data[i].year].push(parseFloat(data[i].per_capita_gdp_percent_change) / 100);\n        }\n    \n        for (var key in o) {\n            chartData.push(o[key]);\n        }\n    \n        // Draw chart\n        //\n        this.drawLineChart('per-capita-gdp-change-chart', chartData, {\n    \n            curveType : 'function',\n            legend : { position : 'bottom' },\n            pointShape : 'square',\n            pointSize : 8,\n            title : 'Annual Change in Per Capita GDP over Time',\n            vAxis : { format : '#.#%' },\n        });\n    }\n    \n    // Occupations\n    //\n    drawOccupationsData() {\n    \n        var self = this;\n    \n        google.setOnLoadCallback(function() {\n    \n            var regionIds = self.params.regions.map(function(region) { return region.id; });\n            var controller = new ApiController();\n    \n            controller.getOccupationsData(regionIds, function(data) { \n    \n                self.drawOccupationsTable(regionIds, data);\n            });\n        });\n    }\n    \n    drawOccupationsTable(regionIds, data) {\n    \n        var s = '<tr><th></th>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<th colspan=\\'2\\'>' + this.params.regions[i].name + '</th>';\n        }\n    \n        // Sub header\n        //\n        s += '</tr><tr><td class=\\'column-header\\'></td>';\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            s += '<td class=\\'column-header\\'>Percent</td><td class=\\'column-header\\'>Percentile</td>';\n        }\n    \n        for (var i = 0; i < data.length; i++) {\n    \n            if ((i % regionIds.length) == 0)\n                s += '</tr><tr><td>' + data[i].occupation + '</td>'; \n    \n            var totalRanks = parseInt(data[i].total_ranks);\n            var rank = parseInt(data[i].percent_employed_rank);\n            var percentile = parseInt(((totalRanks - rank) / totalRanks) * 100);\n    \n            s += '<td>' + numeral(data[i].percent_employed).format('0.0') + '%</td>';\n            s += '<td>' + numeral(percentile).format('0o') + '</td>';\n        }\n    \n        s += '</tr>';\n    \n        $('#occupations-table').html(s);\n    }\n    \n    // Population\n    //\n    drawPopulationData() {\n    \n        var self = this;\n    \n        google.setOnLoadCallback(function() {\n    \n            var regionIds = self.params.regions.map(function(region) { return region.id; });\n            var controller = new ApiController();\n    \n            controller.getPopulationData(regionIds, function(data) { \n    \n                self.drawPopulationMap();\n                self.drawPopulationChart(regionIds, data);\n                self.drawPopulationChangeChart(regionIds, data);\n            });\n        });\n    }\n    \n    drawPopulationChart(regionIds, data) {\n    \n        var chartData = [];\n        var year;\n    \n        // Header\n        //\n        var header = ['Year'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            header[i + 1] = this.params.regions[i].name;\n        }\n    \n        chartData.push(header);\n    \n        // Data\n        //\n        for (var i = 0; i < data.length; i++) {\n    \n            var m = (i % regionIds.length);\n    \n            if (m == 0) {\n    \n                year = [];\n                year[0] = data[i].year;\n                chartData.push(year);\n            }\n    \n            year[m + 1] = parseInt(data[i].population);\n        }\n    \n        this.drawLineChart('population-chart', chartData, {\n    \n            curveType : 'function',\n            legend : { position : 'bottom' },\n            pointShape : 'square',\n            pointSize : 8,\n            title : 'Population',\n        });\n    }\n    \n    drawPopulationChangeChart(regionIds, data) {\n    \n        var chartData = [];\n        var year;\n    \n        // Header\n        //\n        var header = ['Year'];\n    \n        for (var i = 0; i < regionIds.length; i++) {\n            header[i + 1] = this.params.regions[i].name;\n        }\n    \n        chartData.push(header);\n    \n        // Data\n        //\n        for (var i = 0; i < data.length; i++) {\n    \n            var m = (i % regionIds.length);\n    \n            if (m == 0) {\n    \n                year = [];\n                year[0] = data[i].year;\n                chartData.push(year);\n            }\n    \n            year[m + 1] = parseFloat(data[i].population_percent_change) / 100;\n        }\n    \n        this.drawLineChart('population-change-chart', chartData, {\n    \n            curveType : 'function',\n            legend : { position : 'bottom' },\n            pointShape : 'square',\n            pointSize : 8,\n            title : 'Population Change',\n            vAxis : { format : '#.#%' },\n        });\n    }\n    \n    drawPopulationMap() {\n    \n        var map = L.map('map').setView([51.505, -0.09], 13);\n        map.setView(this.MAP_INITIAL_CENTER, this.MAP_INITIAL_ZOOM);\n\n        var myLines = [{\n            \"type\": \"LineString\",\n            \"coordinates\": [[-100, 40], [-105, 45], [-110, 55]]\n        }, {\n            \"type\": \"LineString\",\n            \"coordinates\": [[-105, 40], [-110, 45], [-115, 55]]\n        }];\n        \n        var myStyle = {\n            \"color\": \"#ff7800\",\n            \"weight\": 5,\n            \"opacity\": 0.65\n        };\n        \n        L.geoJson(myLines, {\n            style: myStyle\n        }).addTo(map);\n        \n        L.tileLayer('https://a.tiles.mapbox.com/v3/socrata-apps.ibp0l899/{z}/{x}/{y}.png').addTo(map);\n    }\n    \n    // Places in region\n    //\n    drawPlacesInRegion(onClickRegion) {\n    \n        if (this.params.regions.length == 0) \n            return;\n    \n        var region = this.params.regions[0];\n    \n        var controller = new ApiController();\n        var self = this;\n    \n        controller.getPlacesInRegion(region.id, function(data) { \n    \n            if (data.length == 0)\n                return;\n    \n            $('#places-in-region-header').text('Places in {0}'.format(region.name));\n            $('#places-in-region-header').slideToggle(100);\n            \n            self.drawPlacesInRegionList(data, onClickRegion);\n        });\n    }\n    \n    drawPlacesInRegionList(data, onClickRegion) {\n    \n        var s = '';\n    \n        if (data.length == 0)\n            return;\n    \n        for (var i = 0; i < data.length; i++) {\n    \n            s += '<li><a href=\"';\n            s += this.getSearchPageForRegionsAndVectorUrl(data[i].child_name) + '\">';\n            s += data[i].child_name;\n            s += '</a></li>';\n        }\n    \n        $('#places-in-region').html(s);\n        $('#places-in-region').slideToggle(100);\n    }\n    \n    // Similar regions\n    //\n    drawSimilarRegions(onClickRegion) {\n    \n        if (this.params.regions.length == 0) \n            return;\n    \n        var region = this.params.regions[0];\n        var controller = new ApiController();\n        var self = this;\n    \n        controller.getSimilarRegions(region.id, function(data) { \n    \n            self.drawSimilarRegionsList(data, onClickRegion);\n        });\n    }\n    \n    drawSimilarRegionsList(data, onClickRegion) {\n        \n        var s = '';\n        \n        if (data.most_similar == undefined)\n            return;\n    \n        for (var i = 0; i < data.most_similar.length; i++) {\n    \n            s += '<li><a><i class=\"fa fa-plus\"></i>' + data.most_similar[i].name + '</a></li>'\n        }\n    \n        $('#similar-regions').html(s);\n        $('#similar-regions').slideToggle(100);\n        \n        $('#similar-regions li a').click(function() {\n    \n            var index = $(this).parent().index();\n            onClickRegion(data.most_similar[index].name);\n        });\n    }\n    \n    // Draw charts\n    //\n    drawLineChart(chartId, data, options) {\n    \n        var dataTable = google.visualization.arrayToDataTable(data);\n        var chart = new google.visualization.LineChart(document.getElementById(chartId));\n    \n        chart.draw(dataTable, options);\n    }\n    \n    drawSteppedAreaChart(chartId, data, options) {\n    \n        var dataTable = google.visualization.arrayToDataTable(data);\n        var chart = new google.visualization.SteppedAreaChart(document.getElementById(chartId));\n    \n        chart.draw(dataTable, options);\n    }\n    \n    // Paging\n    //\n    fetchNextPage() {\n    \n        if (this.fetching || this.fetchedAll)\n            return;\n    \n        this.fetching = true;\n        this.incrementPage();\n    \n        var self = this;\n    \n        $.ajax(this.getSearchResultsUrl()).done(function(data, textStatus, jqXHR) {\n    \n            console.log(jqXHR.status + ' ' + textStatus);\n    \n            if (jqXHR.status == 204) { // no content\n    \n                self.decrementPage();\n                self.fetching = false;\n                self.fetchedAll = true;\n                return;\n            }\n    \n            $('.datasets').append(data);\n            self.fetching = false;\n        });\n    }\n    \n    getSearchPageForRegionsAndVectorUrl(regions, vector, queryString) {\n    \n        var url = '/';\n    \n        if (typeof(regions) === 'string') {\n    \n            url += regions.replace(/,/g, '').replace(/ /g, '_');\n        }\n        else if (Array.isArray(regions)) {\n    \n            var regionNames = [];\n    \n            regionNames = regions.map(function(region) {\n                return region.replace(/,/g, '').replace(/ /g, '_');\n            });\n    \n            url += regionNames.join('_vs_');\n        }\n        else {\n    \n            url += 'search';\n        }\n    \n        if (vector)\n            url += '/' + vector;\n    \n        if (queryString) \n            url += queryString;\n    \n        return url;\n    }\n    \n    getSearchPageUrl() {\n    \n        if ((this.params.regions.length > 0) || this.params.autoSuggestedRegion) {\n    \n            var regionNames = [];\n    \n            if (this.params.resetRegions == false) {\n    \n                regionNames = this.params.regions.map(function(region) { \n                    return region.name; \n                });\n            }\n    \n            if (this.params.autoSuggestedRegion)\n                regionNames.push(this.params.autoSuggestedRegion);\n    \n            return this.getSearchPageForRegionsAndVectorUrl(regionNames, this.params.vector, this.getSearchQueryString());\n        }\n        else {\n    \n            return this.getSearchPageForRegionsAndVectorUrl(null, this.params.vector, this.getSearchQueryString());\n        }\n    }\n    \n    getSearchResultsUrl() {\n    \n        var searchResultsUrl = this.params.regions.length == 0 ? '/search-results' : './search-results'; \n        var url = searchResultsUrl + this.getSearchQueryString(); \n    \n        return url;\n    }\n    \n    getSearchQueryString() {\n    \n        var url = '?q=' + encodeURIComponent(this.params.q);\n    \n        if (this.params.page > 1)\n            url += '&page=' + this.params.page;\n    \n        if (this.params.categories.length > 0)\n            url += '&categories=' + encodeURIComponent(this.params.categories.join(','));\n    \n        if (this.params.domains.length > 0)\n            url += '&domains=' + encodeURIComponent(this.params.domains.join(','));\n    \n        if (this.params.standards.length > 0)\n            url += '&standards=' + encodeURIComponent(this.params.standards.join(','));\n    \n        return url;\n    }\n    \n    incrementPage() {\n    \n        this.params.page++;\n    }\n    \n    navigate() {\n    \n        window.location.href = this.getSearchPageUrl();\n    }\n    \n    removeRegion(regionIndex) {\n    \n        this.params.regions.splice(regionIndex, 1); // remove at index i\n        this.params.page = 1;\n    }\n    \n    setAutoSuggestedRegion(region, resetRegions) {\n    \n        this.params.autoSuggestedRegion = region;\n        this.params.resetRegions = resetRegions;\n        this.params.page = 1;\n    }\n    \n    toggleCategory(category) {\n    \n        var i = this.params.categories.indexOf(category);\n    \n        if (i > -1)\n            this.params.categories.splice(i, 1); // remove at index i\n        else\n            this.params.categories.push(category);\n    }\n    \n    toggleDomain(domain) {\n    \n        var i = this.params.domains.indexOf(domain);\n    \n        if (i > -1)\n            this.params.domains.splice(i, 1); // remove at index i\n        else\n            this.params.domains.push(domain);\n    }\n    \n    toggleStandard(standard) {\n    \n        var i = this.params.standards.indexOf(standard);\n    \n        if (i > -1)\n            this.params.standards.splice(i, 1); // remove at index i\n        else\n            this.params.standards.push(standard);\n    }\n}"]}