function clear(){_controller.clearCategories(),_controller.navigate()}function toggle(category){_controller.toggleCategory(category),_controller.navigate()}function SearchPageController(params){this.params=params}$(document).ready(function(){$(".search-link").click(function(){var text=$("#q").val().trim();0==text.length?$("#q").focus():$("#form").submit()})}),SearchPageController.prototype.clearCategories=function(){this.params.categories=[]},SearchPageController.prototype.getSearchUrl=function(){var searchUrl=window.location.href.split("?")[0],url=searchUrl+"?q="+encodeURIComponent($("#q").val())+"&offset="+this.params.offset+"&limit="+this.params.limit;return this.params.categories.length>0&&(url+="&categories="+encodeURIComponent(this.params.categories.join(","))),this.params.domains.length>0&&(url+="&domains="+encodeURIComponent(this.params.domains.join(","))),console.log(url),url},SearchPageController.prototype.navigate=function(){window.location.href=this.getSearchUrl()},SearchPageController.prototype.toggleCategory=function(category){var i=this.params.categories.indexOf(category);i>-1?this.params.categories.splice(i,1):this.params.categories.push(category)};