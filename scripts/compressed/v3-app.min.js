function SearchMenuController(){this.categories=this.getParameterByName("categories").split2(",");var self=this;$(".search-options-link").click(function(){$(".search-options-menu").slideToggle(100)}),$(".search-options-menu-all").click(function(){self.clearCategories()}),$(".search-options-menu li a").click(function(){self.toggleCategory($(this))}),this.updateMenuState()}$(document).ready(function(){$("#menu-item-communities").mouseenter(function(){$("#menu-communities").slideToggle(100),$("#menu-item-communities").addClass("selected")}),$("#menu-item-communities").mouseleave(function(){$("#menu-communities").hide(100),$("#menu-item-communities").removeClass("selected")}),$(".search-link").click(function(){var text=$("#q").val().trim();0==text.length?$("#q").focus():$("#form").submit()}),new SearchMenuController}),SearchMenuController.prototype.clearCategories=function(){this.categories=[],$("#categories").val(""),console.log($("#categories").val()),this.updateMenuState()},SearchMenuController.prototype.getParameterByName=function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},SearchMenuController.prototype.toggleCategory=function(o){var category=o.text().toLowerCase().trim(),i=this.categories.indexOf(category);i>-1?this.categories.splice(i,1):this.categories.push(category),$("#categories").val(this.categories.join(",")),console.log($("#categories").val()),this.updateMenuState()},SearchMenuController.prototype.updateMenuState=function(){var self=this;0==this.categories.length?$(".search-options-menu-all .fa-check").show():$(".search-options-menu-all .fa-check").hide(),$(".search-options-menu li a").each(function(){self.categories.includes($(this).text().toLowerCase().trim())?$(this).children(".fa-check").show():$(this).children(".fa-check").hide()})},String.prototype.split2=function(s){var rg=this.split(s);return 1==rg.length&&""==rg[0]?[]:rg},Array.prototype.includes=function(s){return this.indexOf(s)>-1};